<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Checkout - Kids Fun Shop</title>
<style>
    *{margin:0; padding:0; box-sizing:border-box; font-family:'Arial', sans-serif;}
    body{background:#fefefe; color:#333;}
    .container{max-width:900px; margin:40px auto; display:flex; flex-wrap:wrap; gap:30px;}
    .cart, .checkout{background:white; padding:30px; border-radius:15px; box-shadow:0 10px 25px rgba(0,0,0,0.1); flex:1;}
    h2{color:#ff6f61; margin-bottom:20px;}
    .cart-item{display:flex; justify-content:space-between; margin-bottom:15px; padding-bottom:10px; border-bottom:1px solid #eee;}
    .cart-item span{font-weight:bold;}
    label{display:block; margin-bottom:5px; font-weight:bold; margin-top:10px;}
    input, select{width:100%; padding:10px; border-radius:8px; border:1px solid #ccc;}
    .btn{margin-top:20px; width:100%; padding:12px; background:#ff6f61; color:white; border:none; border-radius:8px; cursor:pointer; font-size:1rem; transition:background 0.3s;}
    .btn:hover{background:#e65b50;}
</style>
</head>
<body>

<div class="container">
    <div class="cart">
        <h2>Cart Summary</h2>
        <div id="cartItems"></div>
        <hr>
        <p>Subtotal: $<span id="subtotal">0</span></p>
        <p>Tax (5%): $<span id="tax">0</span></p>
        <p>Shipping: $<span id="shipping">5.00</span></p>
        <h3>Total: $<span id="total">0</span></h3>
    </div>

    <div class="checkout">
        <h2>Shipping & Billing</h2>
        <form id="checkoutForm">
            <label for="name">Full Name</label>
            <input type="text" id="name" required>

            <label for="email">Email</label>
            <input type="email" id="email" required>

            <label for="address">Address</label>
            <input type="text" id="address" required>

            <label for="phone">Phone</label>
            <input type="tel" id="phone" required>

            <label for="payment">Payment Method</label>
            <select id="payment" required>
                <option value="Credit Card">Credit Card</option>
                <option value="UPI">UPI</option>
                <option value="PayPal">PayPal</option>
            </select>

            <button type="submit" class="btn">Proceed to Pay</button>
        </form>
    </div>
</div>

<script>
const product = JSON.parse(localStorage.getItem('selectedProduct'));
const cartItems = document.getElementById('cartItems');
const subtotalEl = document.getElementById('subtotal');
const taxEl = document.getElementById('tax');
const totalEl = document.getElementById('total');

if(product){
    cartItems.innerHTML = `<div class="cart-item"><span>${product.name}</span> x ${product.quantity} - $${product.price}</div>`;
    const subtotal = parseFloat(product.price.replace('$',''))*product.quantity;
    const tax = (subtotal*0.05).toFixed(2);
    const total = (subtotal + parseFloat(tax) + 5).toFixed(2);
    subtotalEl.innerText = subtotal.toFixed(2);
    taxEl.innerText = tax;
    totalEl.innerText = total;
}

document.getElementById('checkoutForm').addEventListener('submit', function(e){
    e.preventDefault();
    localStorage.setItem('customerInfo', JSON.stringify({
        name: document.getElementById('name').value,
        email: document.getElementById('email').value,
        address: document.getElementById('address').value,
        phone: document.getElementById('phone').value,
        payment: document.getElementById('payment').value,
        total: totalEl.innerText
    }));
    window.location.href = 'thankyou.html';
});
</script>

</body>
</html>
